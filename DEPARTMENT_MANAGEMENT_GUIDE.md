# éƒ¨é—¨ç®¡ç†åŠŸèƒ½æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

å·²å®ç°å®Œæ•´çš„éƒ¨é—¨ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬éƒ¨é—¨çš„å¢åˆ æ”¹æŸ¥ã€è´Ÿè´£äººç®¡ç†ä»¥åŠäººå‘˜åˆ†é…ã€‚

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

### 1. éƒ¨é—¨åŸºç¡€ç®¡ç†

- **åˆ›å»ºéƒ¨é—¨**: `POST /api/v1/departments` (æƒé™: `dept:create`)
- **æ›´æ–°éƒ¨é—¨**: `PUT /api/v1/departments/:id` (æƒé™: `dept:update`)
- **åˆ é™¤éƒ¨é—¨**: `DELETE /api/v1/departments/:id` (æƒé™: `dept:delete`)
  - *æ³¨æ„*: åªèƒ½åˆ é™¤æ²¡æœ‰å­éƒ¨é—¨ä¸”æ²¡æœ‰å‘˜å·¥çš„éƒ¨é—¨ã€‚
- **éƒ¨é—¨åˆ—è¡¨**: `GET /api/v1/departments`
- **éƒ¨é—¨è¯¦æƒ…**: `GET /api/v1/departments/:id`
  - è¿”å›ä¿¡æ¯åŒ…å«éƒ¨é—¨åŸºæœ¬ä¿¡æ¯ã€è´Ÿè´£äººåˆ—è¡¨ã€‚

### 2. è´Ÿè´£äººç®¡ç†

- **æ·»åŠ è´Ÿè´£äºº**: `POST /api/v1/departments/:id/leaders` (æƒé™: `dept:manage`)
  - å‚æ•°: `user_id`, `is_primary` (æ˜¯å¦ä¸»è¦è´Ÿè´£äºº)
- **ç§»é™¤è´Ÿè´£äºº**: `DELETE /api/v1/departments/:id/leaders/:userId` (æƒé™: `dept:manage`)

### 3. äººå‘˜åˆ†é…

- **æ‰¹é‡åˆ†é…äººå‘˜**: `POST /api/v1/departments/:id/users` (æƒé™: `dept:manage`)
  - å‚æ•°: `[user_id1, user_id2, ...]`
  - ä½œç”¨: å°†æŒ‡å®šç”¨æˆ·å½’å±åˆ°è¯¥éƒ¨é—¨ï¼ˆæ›´æ–° users è¡¨çš„ department_idï¼‰ã€‚

## ğŸ—„ï¸ æ•°æ®åº“å˜æ›´

### 1. Users è¡¨
æ·»åŠ äº† `department_id` å­—æ®µï¼Œç”¨äºæ ‡è¯†ç”¨æˆ·æ‰€å±éƒ¨é—¨ã€‚

```sql
ALTER TABLE "public"."users" ADD COLUMN "department_id" int4;
```

### 2. DepartmentLeaders è¡¨
ç”¨äºå­˜å‚¨éƒ¨é—¨è´Ÿè´£äººå…³è”ä¿¡æ¯ï¼Œæ”¯æŒä¸€äººå¤šéƒ¨é—¨ã€ä¸€éƒ¨é—¨å¤šè´Ÿè´£äººã€‚

## ğŸš€ ä½¿ç”¨æµç¨‹ç¤ºä¾‹

1. **åˆ›å»ºéƒ¨é—¨**: ç®¡ç†å‘˜åˆ›å»ºä¸€ä¸ªæ–°éƒ¨é—¨ "ç ”å‘éƒ¨"ã€‚
2. **åˆ†é…äººå‘˜**: ç®¡ç†å‘˜å°† "å¼ ä¸‰"ã€"æå››" åˆ†é…åˆ° "ç ”å‘éƒ¨"ã€‚
3. **ä»»å‘½è´Ÿè´£äºº**: ç®¡ç†å‘˜ä»»å‘½ "å¼ ä¸‰" ä¸º "ç ”å‘éƒ¨" çš„ä¸»è¦è´Ÿè´£äººã€‚
4. **æŸ¥è¯¢è¯¦æƒ…**: è°ƒç”¨éƒ¨é—¨è¯¦æƒ…æ¥å£ï¼Œå¯ä»¥çœ‹åˆ° "ç ”å‘éƒ¨" ä¸‹æœ‰è´Ÿè´£äºº "å¼ ä¸‰"ã€‚

## ğŸ“š Swagger æ–‡æ¡£

è¯¦ç»†æ¥å£å®šä¹‰è¯·è®¿é—® `/swagger/index.html`ã€‚
